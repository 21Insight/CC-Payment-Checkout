(function(){"use strict";var t={9080:function(t,e,r){var a=r(4976),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],i={name:"App"},c=i,s=r(2528),d=(0,s.c)(c,n,o,!1,null,null,null),l=d.exports,u=r(2975);a["default"].use(u.cp);var m=new u.cp.Store({state:{paymentConfirmed:!1},mutations:{SET_PAYMENT_CONFIRMED(t,e){t.paymentConfirmed=e}},actions:{async confirmPayment({commit:t}){try{return await new Promise((t=>setTimeout(t,1e3))),t("SET_PAYMENT_CONFIRMED",!0),"Pago confirmado con éxito"}catch(e){throw console.error("Error al confirmar el pago:",e),e}}}}),p=r(1144),f=r.n(p),v=r(9752),h=(r(9224),r(3352)),b=r(1604),C=r(1640),_=r(3196),g=r(872),y=function(){var t=this,e=t._self._c;return e("b-container",[e("div",{staticClass:"row justify-content-center align-items-center use-all-space"},[e("div",{staticClass:"card"},[e("b-row",[e("b-col",{attrs:{md:"6"}},[e("img",{staticClass:"img-fluid",attrs:{src:"https://via.placeholder.com/400",alt:"Producto"}})]),e("b-col",{attrs:{md:"6"}},[e("h2",[t._v(t._s(t.product.name))]),e("p",{staticClass:"text-muted"},[t._v("Categoría del Producto")]),e("p",[t._v(t._s(t.product.description))]),e("p",{staticClass:"font-weight-bold"},[t._v("Precio: $"+t._s(t.product.price))]),e("b-button",{on:{click:t.openCreditCardModal}},[t._v("Pagar con Tarjeta de Crédito")]),e("CreditCardInfo",{ref:"creditCardModal"})],1)],1)],1)])])},x=[],w=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"creditCardModal",title:"Ingrese la Información de la Tarjeta de Crédito","ok-title":"Confirmar","ok-variant":"success","cancel-title":"Cancelar","cancel-variant":"danger"},on:{ok:t.handleOk}},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.validateCreditCard.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{cols:"11"}},[e("b-form-group",{attrs:{label:"Número de Tarjeta","label-for":"cardNumber"}},[e("the-mask",{staticClass:"form-control",attrs:{id:"cardNumber",mask:"################",placeholder:"#### #### #### ####",show:!1,type:"tel",pattern:"\\d*"},model:{value:t.creditCard.number,callback:function(e){t.$set(t.creditCard,"number",e)},expression:"creditCard.number"}})],1)],1),e("b-col",{staticClass:"logo-col",attrs:{cols:"1"}},[e("font-awesome-icon",{attrs:{icon:t.getCardIcon(t.creditCard.number.substring(0,6)),size:"xl"}})],1)],1),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("b-form-group",{attrs:{label:"Fecha de Vencimiento","label-for":"expirationDate"}},[e("the-mask",{staticClass:"form-control",attrs:{id:"expirationDate",mask:"##/##",placeholder:"MM/YY",show:!1,type:"tel",pattern:"\\d*"},model:{value:t.creditCard.expirationDate,callback:function(e){t.$set(t.creditCard,"expirationDate",e)},expression:"creditCard.expirationDate"}})],1)],1),e("b-col",{attrs:{cols:"6"}},[e("b-form-group",{attrs:{label:"CVV","label-for":"cvv"}},[e("the-mask",{staticClass:"form-control",attrs:{id:"cvv",mask:"####",placeholder:"###",show:!1,type:"tel",pattern:"\\d*"},model:{value:t.creditCard.cvv,callback:function(e){t.$set(t.creditCard,"cvv",e)},expression:"creditCard.cvv"}})],1)],1)],1)],1)],1)},D=[];r(3248);const P=new a["default"];var k={data(){return{creditCard:{number:"",expirationDate:"",cvv:""}}},methods:{openModal(){this.$bvModal.show("creditCardModal")},closeModal(){this.$bvModal.hide("creditCardModal")},validateCreditCard(){this.isValidCreditCard(this.creditCard)?(this.$router.push({name:"summaryPayment"}),this.closeModal()):this.$bvToast.toast("Error: Tarjeta de crédito no válida",{title:"Error",variant:"danger"})},isValidCreditCard(t){return this.isValidCardNumber(t.number)&&this.isValidExpirationDate(t.expirationDate)&&this.isValidCVV(t.cvv)},isValidCardNumber(t){return t.startsWith("3")?15===t.length:16===t.length},isValidExpirationDate(t){const e=parseInt(t.substring(0,2),10),r=parseInt(t.substring(2),10);if(isNaN(e)||isNaN(r)||e<1||e>12)return!1;const a=new Date,n=new Date(2e3+r,e,1);return n>a},isValidCVV(t,e){return e&&e.startsWith("3")?4===t.length:3===t.length},getCardIcon(t){return t.startsWith("4")?["fab","cc-visa"]:t.startsWith("5")?["fab","cc-mastercard"]:t.startsWith("34")||t.startsWith("37")?["fab","cc-amex"]:["fas","credit-card"]},handleOk(){this.validateCreditCard(),P.$emit("card-info-submitted",{cardNumber:this.creditCard.number,expirationDate:this.creditCard.expirationDate,cvv:this.creditCard.cvv})}}},M=k,j=(0,s.c)(M,w,D,!1,null,"02b93c04",null),I=j.exports,N={data(){return{product:{name:"Producto Ejemplo",description:"Descripción del producto",price:19.99}}},methods:{openCreditCardModal(){this.$refs.creditCardModal.openModal()}},components:{CreditCardInfo:I}},V=N,E=(0,s.c)(V,y,x,!1,null,"78a8e8c3",null),T=E.exports,O=function(){var t=this,e=t._self._c;return e("b-container",[e("div",{staticClass:"row justify-content-center align-items-center use-all-space"},[e("div",{staticClass:"card"},[e("h2",{staticClass:"mb-4"},[t._v("Resumen de Pago")]),e("b-row",[e("b-col",[e("b-card",[e("h4",{staticClass:"mb-3"},[t._v("Detalles del Producto")]),e("p",[t._v(t._s(t.product.name)+" - $"+t._s(t.product.price))])])],1),e("b-col",[e("b-card",[e("h4",{staticClass:"mb-3"},[t._v("Detalles de la Tarjeta")]),e("p",[t._v("Número de Tarjeta: **** **** **** "+t._s(t.cardInfo.cardNumber))]),e("p",[t._v("Fecha de Vencimiento: "+t._s(t.cardInfo.expirationDate))]),e("p",[t._v("CVV: ***")])])],1)],1),e("b-button",{attrs:{variant:"success"},on:{click:t.confirmPayment}},[t._v("Confirmar Pago")])],1)])])},$=[],S={data(){return{cardInfo:{cardNumber:"",cvv:"",expirationDate:""}}},created(){P.$on("card-info-submitted",this.handleCardInfoSubmitted)},computed:{product(){return{name:"Producto Ejemplo",price:19.99}}},methods:{confirmPayment(){this.$store.dispatch("confirmPayment",{}).then((()=>{this.$router.push({name:"finalStatus"})})).catch((t=>{this.$bvToast.toast(`Error: ${t.message}`,{title:"Error",variant:"danger"})}))},handleCardInfoSubmitted(t){console.log("Datos de la tarjeta recibidos en SummaryPayment:",t),this.cardInfo.cardNumber=t.cardNumber.slice(-4),this.cardInfo.cvv=t.cvv,this.cardInfo.expirationDate=t.expirationDate}}},F=S,W=(0,s.c)(F,O,$,!1,null,"2b9d8337",null),A=W.exports,Y=function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v("Estado Final del Pago")]),e("p",[t._v(t._s(t.paymentStatus))])])},R=[],z={computed:{paymentStatus(){return"Éxito"}}},L=z,q=(0,s.c)(L,Y,R,!1,null,"a8acdad4",null),B=q.exports;const G=[{path:"/",name:"productDisplay",component:T},{path:"/summary-payment",name:"summaryPayment",component:A},{path:"/final-status",name:"finalStatus",component:B}];var H=G;a["default"].use(g.cp);const J=new g.cp({routes:H,beforeEnter(t,e,r){t.name!==e.name&&r()}});h.IL.add(C._g1,_.AVr),a["default"].use(v.cp3),a["default"].use(f()),a["default"].component("font-awesome-icon",b.us),a["default"].config.productionTip=!1,new a["default"]({store:m,router:J,render:t=>t(l)}).$mount("#app")}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,a,n,o){if(!a){var i=1/0;for(l=0;l<t.length;l++){a=t[l][0],n=t[l][1],o=t[l][2];for(var c=!0,s=0;s<a.length;s++)(!1&o||i>=o)&&Object.keys(r.O).every((function(t){return r.O[t](a[s])}))?a.splice(s--,1):(c=!1,o<i&&(i=o));if(c){t.splice(l--,1);var d=n();void 0!==d&&(e=d)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[a,n,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,i=a[0],c=a[1],s=a[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(s)var l=s(r)}for(e&&e(a);d<i.length;d++)o=i[d],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(l)},a=self["webpackChunkcredit_card_payment_checkout"]=self["webpackChunkcredit_card_payment_checkout"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[999],(function(){return r(9080)}));a=r.O(a)})();
//# sourceMappingURL=app.0ef7ef99.js.map